import sys
from PyQt6.QtWidgets import QApplication, QWidget, QVBoxLayout
from PyQt6.QtGui import QPixmap, QPainter, QColor, QPen
from PyQt6.QtCore import Qt

class VuePlan(QWidget):
    def __init__(self, image_path: str, scale_percent: int = 100, cell_size: int = 8):
        super().__init__()

        self.setWindowTitle("Plan quadrillé redimensionné")
        self.image_path = image_path
        self.scale_percent = scale_percent
        self.cell_size = cell_size

        self.pixmap_original = QPixmap(self.image_path)

        screen = QApplication.primaryScreen().availableGeometry()
        screen_width = screen.width()
        screen_height = screen.height()

        new_width = int(screen_width * (self.scale_percent / 100))
        new_height = int(screen_height * (self.scale_percent / 100))

        self.pixmap_scaled = self.pixmap_original.scaled(
            new_width, new_height, Qt.AspectRatioMode.KeepAspectRatio
        )

        self.setFixedSize(self.pixmap_scaled.size())

            # Define inaccessible cells as set of (row, col) en gros ligne puis colonne
            # Exemple : [(0,0), (1,3), (5,10), ...]
        self.inaccessible_cells = {
            (5, 10), (7, 12), 

            ( 17 , 3 ),( 17 , 4 ),( 17 , 5 ),( 18 , 3 ),( 18 , 4 ),( 18 , 5 ),( 19 , 3 ),( 19 , 4 ),( 19 , 5 ),
            ( 20 , 3 ),( 20 , 4 ),( 20 , 5 ),( 21 , 3 ),( 21 , 4 ),( 21 , 5 ),( 22 , 3 ),( 22 , 4 ),( 22 , 5 ),
            ( 23 , 3 ),( 23 , 4 ),( 23 , 5 ),( 24 , 3 ),( 24 , 4 ),( 24 , 5 ),( 25 , 3 ),( 25 , 4 ),( 25 , 5 ),
            ( 26 , 3 ),( 26 , 4 ),( 26 , 5 ),( 27 , 3 ),( 27 , 4 ),( 27 , 5 ),( 28 , 3 ),( 28 , 4 ),( 28 , 5 ),
            ( 29 , 3 ),( 29 , 4 ),( 29 , 5 ),( 30 , 3 ),( 30 , 4 ),( 30 , 5 ),( 31 , 3 ),( 31 , 4 ),( 31 , 5 ),
            ( 32 , 3 ),( 32 , 4 ),( 32 , 5 ),( 33 , 3 ),( 33 , 4 ),( 33 , 5 ),( 34 , 3 ),( 34 , 4 ),( 34 , 5 ),
            ( 35 , 3 ),( 35 , 4 ),( 35 , 5 ),( 36 , 3 ),( 36 , 4 ),( 36 , 5 ),( 37 , 3 ),( 37 , 4 ),( 37 , 5 ),
            ( 38 , 3 ),( 38 , 4 ),( 38 , 5 ),( 39 , 3 ),( 39 , 4 ),( 39 , 5 ),( 40 , 3 ),( 40 , 4 ),( 40 , 5 ),
            ( 41 , 3 ),( 41 , 4 ),( 41 , 5 ),( 42 , 3 ),( 42 , 4 ),( 42 , 5 ),( 43 , 3 ),( 43 , 4 ),( 43 , 5 ),
            ( 44 , 3 ),( 44 , 4 ),( 44 , 5 ),( 45 , 3 ),( 45 , 4 ),( 45 , 5 ),( 46 , 3 ),( 46 , 4 ),( 46 , 5 ),
            ( 47 , 3 ),( 47 , 4 ),( 47 , 5 ),( 48 , 3 ),( 48 , 4 ),( 48 , 5 ),( 49 , 3 ),( 49 , 4 ),( 49 , 5 ),
            ( 50 , 3 ),( 50 , 4 ),( 50 , 5 ),( 51 , 3 ),( 51 , 4 ),( 51 , 5 ),( 52 , 3 ),( 52 , 4 ),( 52 , 5 ),
            ( 53 , 3 ),( 53 , 4 ),( 53 , 5 ),( 54 , 3 ),( 54 , 4 ),( 54 , 5 ),( 55 , 3 ),( 55 , 4 ),( 55 , 5 ),

            ( 17 , 12 ),( 17 , 13 ),( 17 , 14 ),( 17 , 15 ),( 17 , 16 ),( 18 , 12 ),( 18 , 13 ),( 18 , 14 ),( 18 , 15 ),( 18 , 16 ),( 19 , 12 ),( 19 , 13 ),( 19 , 14 ),( 19 , 15 ),( 19 , 16 ),
            ( 20 , 12 ),( 20 , 13 ),( 20 , 14 ),( 20 , 15 ),( 20 , 16 ),( 21 , 12 ),( 21 , 13 ),( 21 , 14 ),( 21 , 15 ),( 21 , 16 ),( 22 , 12 ),( 22 , 13 ),( 22 , 14 ),( 22 , 15 ),( 22 , 16 ),
            ( 23 , 12 ),( 23 , 13 ),( 23 , 14 ),( 23 , 15 ),( 23 , 16 ),( 24 , 12 ),( 24 , 13 ),( 24 , 14 ),( 24 , 15 ),( 24 , 16 ),( 25 , 12 ),( 25 , 13 ),( 25 , 14 ),( 25 , 15 ),( 25 , 16 ),
            ( 26 , 12 ),( 26 , 13 ),( 26 , 14 ),( 26 , 15 ),( 26 , 16 ),( 27 , 12 ),( 27 , 13 ),( 27 , 14 ),( 27 , 15 ),( 27 , 16 ),
            ( 28 , 12 ),( 28 , 13 ),( 28 , 14 ),( 28 , 15 ),( 28 , 16 ),( 29 , 12 ),( 29 , 13 ),( 29 , 14 ),( 29 , 15 ),( 29 , 16 ),
            ( 30 , 12 ),( 30 , 13 ),( 30 , 14 ),( 30 , 15 ),( 30 , 16 ),( 31 , 12 ),( 31 , 13 ),( 31 , 14 ),( 31 , 15 ),( 31 , 16 ),
            ( 32 , 12 ),( 32 , 13 ),( 32 , 14 ),( 32 , 15 ),( 32 , 16 ),
            ( 33 , 12 ),( 33 , 13 ),( 33 , 14 ),( 33 , 15 ),( 33 , 16 ),( 34 , 12 ),( 34 , 13 ),( 34 , 14 ),( 34 , 15 ),( 34 , 16 ),
            ( 35 , 12 ),( 35 , 13 ),( 35 , 14 ),( 35 , 15 ),( 35 , 16 ),
            ( 36 , 12 ),( 36 , 13 ),( 36 , 14 ),( 36 , 15 ),( 36 , 16 ),( 37 , 12 ),( 37 , 13 ),( 37 , 14 ),( 37 , 15 ),( 37 , 16 ),
            ( 38 , 12 ),( 38 , 13 ),( 38 , 14 ),( 38 , 15 ),( 38 , 16 ),
            ( 39 , 12 ),( 39 , 13 ),( 39 , 14 ),( 39 , 15 ),( 39 , 16 ),( 40 , 12 ),( 40 , 13 ),( 40 , 14 ),( 40 , 15 ),( 40 , 16 ),
            ( 41 , 12 ),( 41 , 13 ),( 41 , 14 ),( 41 , 15 ),( 41 , 16 ),( 42 , 12 ),( 42 , 13 ),( 42 , 14 ),( 42 , 15 ),( 42 , 16 ),
            ( 43 , 12 ),( 43 , 13 ),( 43 , 14 ),( 43 , 15 ),( 43 , 16 ),( 44 , 12 ),( 44 , 13 ),( 44 , 14 ),( 44 , 15 ),( 44 , 16 ),
            ( 45 , 12 ),( 45 , 13 ),( 45 , 14 ),( 45 , 15 ),( 45 , 16 ),( 46 , 12 ),( 46 , 13 ),( 46 , 14 ),( 46 , 15 ),( 46 , 16 ),
            ( 47 , 12 ),( 47 , 13 ),( 47 , 14 ),( 47 , 15 ),( 47 , 16 ),( 48 , 12 ),( 48 , 13 ),( 48 , 14 ),( 48 , 15 ),( 48 , 16 ),
            ( 49 , 12 ),( 49 , 13 ),( 49 , 14 ),( 49 , 15 ),( 49 , 16 ),( 50 , 12 ),( 50 , 13 ),( 50 , 14 ),( 50 , 15 ),( 50 , 16 ),
            ( 51 , 12 ),( 51 , 13 ),( 51 , 14 ),( 51 , 15 ),( 51 , 16 ),( 52 , 12 ),( 52 , 13 ),( 52 , 14 ),( 52 , 15 ),( 52 , 16 ),
            ( 53 , 12 ),( 53 , 13 ),( 53 , 14 ),( 53 , 15 ),( 53 , 16 ),( 54 , 12 ),( 54 , 13 ),( 54 , 14 ),( 54 , 15 ),( 54 , 16 ),
            ( 55 , 12 ),( 55 , 13 ),( 55 , 14 ),( 55 , 15 ),( 55 , 16 ),

            

            (14,23), (14,24), (14,25), (14,26), (14,27), 
            (15,23), (15,24), (15,25), (15,26), (15,27),
            (16,23), (16,24), (16,25), (16,26), (16,27),
            (17,23), (17,24), (17,25), (17,26), (17,27),
            (18,23), (18,24), (18,25), (18,26), (18,27),
            (19,23), (19,24), (19,25), (19,26), (19,27),
            (20,23), (20,24), (20,25), (20,26), (20,27),
            (21,23), (21,24), (21,25), (21,26), (21,27),
            (22,23), (22,24), (22,25), (22,26), (22,27),
            (23,23), (23,24), (23,25), (23,26), (23,27),
            (24,23), (24,24), (24,25), (24,26), (24,27),
            (25,23), (25,24), (25,25), (25,26), (25,27),
            (26,23), (26,24), (26,25), (26,26), (26,27),
            (27,23), (27,24), (27,25), (27,26), (27,27),
            (28,23), (28,24), (28,25), (28,26), (28,27),
            (29,23), (29,24), (29,25), (29,26), (29,27),
            (30,23), (30,24), (30,25), (30,26), (30,27),
            (31,23), (31,24), (31,25), (31,26), (31,27),
            (32,23), (32,24), (32,25), (32,26), (32,27),
            (33,23), (33,24), (33,25), (33,26), (33,27),
            (34,23), (34,24), (34,25), (34,26), (34,27),
            (35,23), (35,24), (35,25), (35,26), (35,27),
            (36,23), (36,24), (36,25), (36,26), (36,27),
            (37,23), (37,24), (37,25), (37,26), (37,27),
            (38,23), (38,24), (38,25), (38,26), (38,27),
            (39,23), (39,24), (39,25), (39,26), (39,27),
            (40,23), (40,24), (40,25), (40,26), (40,27),
            (41,23), (41,24), (41,25), (41,26), (41,27),
            (42,23), (42,24), (42,25), (42,26), (42,27),
            (43,23), (43,24), (43,25), (43,26), (43,27),
            (44,23), (44,24), (44,25), (44,26), (44,27),
            (45,23), (45,24), (45,25), (45,26), (45,27),
            (46,23), (46,24), (46,25), (46,26), (46,27),
            (47,23), (47,24), (47,25), (47,26), (47,27),
            (48,23), (48,24), (48,25), (48,26), (48,27),
            (49,23), (49,24), (49,25), (49,26), (49,27),
            (50,23), (50,24), (50,25), (50,26), (50,27),
            (51,23), (51,24), (51,25), (51,26), (51,27),
            (52,23), (52,24), (52,25), (52,26), (52,27),
            (53,23), (53,24), (53,25), (53,26), (53,27),
            (54,23), (54,24), (54,25), (54,26), (54,27),
            (55,23), (55, 24), (55, 25), (55,26), (55,27),

            ( 14 , 33 ),( 14 , 34 ),( 14 , 35 ),( 14 , 36 ),( 14 , 37 ),( 15 , 33 ),( 15 , 34 ),( 15 , 35 ),( 15 , 36 ),( 15 , 37 ),( 16 , 33 ),( 16 , 34 ),( 16 , 35 ),( 16 , 36 ),( 16 , 37 ),
            ( 17 , 33 ),( 17 , 34 ),( 17 , 35 ),( 17 , 36 ),( 17 , 37 ),( 18 , 33 ),( 18 , 34 ),( 18 , 35 ),( 18 , 36 ),( 18 , 37 ),
            ( 19 , 33 ),( 19 , 34 ),( 19 , 35 ),( 19 , 36 ),( 19 , 37 ),( 20 , 33 ),( 20 , 34 ),( 20 , 35 ),( 20 , 36 ),( 20 , 37 ),
            ( 21 , 33 ),( 21 , 34 ),( 21 , 35 ),( 21 , 36 ),( 21 , 37 ),( 22 , 33 ),( 22 , 34 ),( 22 , 35 ),( 22 , 36 ),( 22 , 37 ),
            ( 23 , 33 ),( 23 , 34 ),( 23 , 35 ),( 23 , 36 ),( 23 , 37 ),( 24 , 33 ),( 24 , 34 ),( 24 , 35 ),( 24 , 36 ),( 24 , 37 ),
            ( 25 , 33 ),( 25 , 34 ),( 25 , 35 ),( 25 , 36 ),( 25 , 37 ),( 26 , 33 ),( 26 , 34 ),( 26 , 35 ),( 26 , 36 ),( 26 , 37 ),( 27 , 33 ),( 27 , 34 ),( 27 , 35 ),( 27 , 36 ),( 27 , 37 ),( 28 , 33 ),( 28 , 34 ),( 28 , 35 ),( 28 , 36 ),( 28 , 37 ),
            ( 29 , 33 ),( 29 , 34 ),( 29 , 35 ),( 29 , 36 ),( 29 , 37 ),( 30 , 33 ),( 30 , 34 ),( 30 , 35 ),( 30 , 36 ),( 30 , 37 ),( 31 , 33 ),( 31 , 34 ),( 31 , 35 ),( 31 , 36 ),( 31 , 37 ),
            ( 32 , 33 ),( 32 , 34 ),( 32 , 35 ),( 32 , 36 ),( 32 , 37 ),( 33 , 33 ),( 33 , 34 ),( 33 , 35 ),( 33 , 36 ),( 33 , 37 ),( 34 , 33 ),( 34 , 34 ),( 34 , 35 ),( 34 , 36 ),( 34 , 37 ),( 35 , 33 ),( 35 , 34 ),( 35 , 35 ),( 35 , 36 ),( 35 , 37 ),
            ( 36 , 33 ),( 36 , 34 ),( 36 , 35 ),( 36 , 36 ),( 36 , 37 ),( 37 , 33 ),( 37 , 34 ),( 37 , 35 ),( 37 , 36 ),( 37 , 37 ),( 38 , 33 ),( 38 , 34 ),( 38 , 35 ),( 38 , 36 ),( 38 , 37 ),
            ( 39 , 33 ),( 39 , 34 ),( 39 , 35 ),( 39 , 36 ),( 39 , 37 ),( 40 , 33 ),( 40 , 34 ),( 40 , 35 ),( 40 , 36 ),( 40 , 37 ),( 41 , 33 ),( 41 , 34 ),( 41 , 35 ),( 41 , 36 ),( 41 , 37 ),( 42 , 33 ),( 42 , 34 ),( 42 , 35 ),( 42 , 36 ),( 42 , 37 ),
            ( 43 , 33 ),( 43 , 34 ),( 43 , 35 ),( 43 , 36 ),( 43 , 37 ),( 44 , 33 ),( 44 , 34 ),( 44 , 35 ),( 44 , 36 ),( 44 , 37 ),( 45 , 33 ),( 45 , 34 ),( 45 , 35 ),( 45 , 36 ),( 45 , 37 ),
            ( 46 , 33 ),( 46 , 34 ),( 46 , 35 ),( 46 , 36 ),( 46 , 37 ),( 47 , 33 ),( 47 , 34 ),( 47 , 35 ),( 47 , 36 ),( 47 , 37 ),( 48 , 33 ),( 48 , 34 ),( 48 , 35 ),( 48 , 36 ),( 48 , 37 ),( 49 , 33 ),( 49 , 34 ),( 49 , 35 ),( 49 , 36 ),( 49 , 37 ),
            ( 50 , 33 ),( 50 , 34 ),( 50 , 35 ),( 50 , 36 ),( 50 , 37 ),( 51 , 33 ),( 51 , 34 ),( 51 , 35 ),( 51 , 36 ),( 51 , 37 ),( 52 , 33 ),( 52 , 34 ),( 52 , 35 ),( 52 , 36 ),( 52 , 37 ),( 53 , 33 ),( 53 , 34 ),( 53 , 35 ),( 53 , 36 ),( 53 , 37 ),
            ( 54 , 33 ),( 54 , 34 ),( 54 , 35 ),( 54 , 36 ),( 54 , 37 ),( 55 , 33 ),( 55 , 34 ),( 55 , 35 ),( 55 , 36 ),( 55 , 37 ),

            ( 14 , 43 ),( 14 , 44 ),( 14 , 45 ),( 14 , 46 ),( 14 , 47 ),( 14 , 48 ),( 15 , 43 ),( 15 , 44 ),( 15 , 45 ),( 15 , 46 ),( 15 , 47 ),( 15 , 48 ),( 16 , 43 ),( 16 , 44 ),( 16 , 45 ),( 16 , 46 ),( 16 , 47 ),( 16 , 48 ),( 17 , 43 ),( 17 , 44 ),( 17 , 45 ),( 17 , 46 ),( 17 , 47 ),( 17 , 48 ),( 18 , 43 ),( 18 , 44 ),( 18 , 45 ),( 18 , 46 ),( 18 , 47 ),( 18 , 48 ),( 19 , 43 ),( 19 , 44 ),( 19 , 45 ),( 19 , 46 ),( 19 , 47 ),( 19 , 48 ),( 20 , 43 ),( 20 , 44 ),( 20 , 45 ),( 20 , 46 ),( 20 , 47 ),( 20 , 48 ),( 21 , 43 ),( 21 , 44 ),( 21 , 45 ),( 21 , 46 ),( 21 , 47 ),( 21 , 48 ),( 22 , 43 ),( 22 , 44 ),( 22 , 45 ),( 22 , 46 ),( 22 , 47 ),( 22 , 48 ),( 23 , 43 ),( 23 , 44 ),( 23 , 45 ),( 23 , 46 ),( 23 , 47 ),( 23 , 48 ),( 24 , 43 ),( 24 , 44 ),( 24 , 45 ),( 24 , 46 ),( 24 , 47 ),( 24 , 48 ),( 25 , 43 ),( 25 , 44 ),( 25 , 45 ),( 25 , 46 ),( 25 , 47 ),( 25 , 48 ),( 26 , 43 ),( 26 , 44 ),( 26 , 45 ),( 26 , 46 ),( 26 , 47 ),( 26 , 48 ),
            ( 27 , 43 ),( 27 , 44 ),( 27 , 45 ),( 27 , 46 ),( 27 , 47 ),( 27 , 48 ),( 28 , 43 ),( 28 , 44 ),( 28 , 45 ),( 28 , 46 ),( 28 , 47 ),( 28 , 48 ),( 29 , 43 ),( 29 , 44 ),( 29 , 45 ),( 29 , 46 ),( 29 , 47 ),( 29 , 48 ),( 30 , 43 ),( 30 , 44 ),( 30 , 45 ),( 30 , 46 ),( 30 , 47 ),( 30 , 48 ),( 31 , 43 ),( 31 , 44 ),( 31 , 45 ),( 31 , 46 ),( 31 , 47 ),( 31 , 48 ),( 32 , 43 ),( 32 , 44 ),( 32 , 45 ),( 32 , 46 ),( 32 , 47 ),( 32 , 48 ),

            ( 40 , 43 ),( 40 , 44 ),( 40 , 45 ),( 40 , 46 ),( 40 , 47 ),( 40 , 48 ),( 41 , 43 ),( 41 , 44 ),( 41 , 45 ),( 41 , 46 ),( 41 , 47 ),( 41 , 48 ),( 42 , 43 ),( 42 , 44 ),( 42 , 45 ),( 42 , 46 ),( 42 , 47 ),( 42 , 48 ),( 43 , 43 ),( 43 , 44 ),( 43 , 45 ),( 43 , 46 ),( 43 , 47 ),( 43 , 48 ),( 44 , 43 ),( 44 , 44 ),( 44 , 45 ),( 44 , 46 ),( 44 , 47 ),( 44 , 48 ),( 45 , 43 ),( 45 , 44 ),( 45 , 45 ),( 45 , 46 ),( 45 , 47 ),( 45 , 48 ),( 46 , 43 ),( 46 , 44 ),( 46 , 45 ),( 46 , 46 ),( 46 , 47 ),( 46 , 48 ),( 47 , 43 ),( 47 , 44 ),( 47 , 45 ),( 47 , 46 ),( 47 , 47 ),( 47 , 48 ),( 48 , 43 ),( 48 , 44 ),( 48 , 45 ),( 48 , 46 ),( 48 , 47 ),( 48 , 48 ),( 49 , 43 ),( 49 , 44 ),( 49 , 45 ),( 49 , 46 ),( 49 , 47 ),( 49 , 48 ),( 50 , 43 ),( 50 , 44 ),( 50 , 45 ),( 50 , 46 ),( 50 , 47 ),( 50 , 48 ),( 51 , 43 ),( 51 , 44 ),( 51 , 45 ),( 51 , 46 ),( 51 , 47 ),( 51 , 48 ),( 52 , 43 ),( 52 , 44 ),( 52 , 45 ),( 52 , 46 ),( 52 , 47 ),( 52 , 48 ),( 53 , 43 ),( 53 , 44 ),( 53 , 45 ),( 53 , 46 ),( 53 , 47 ),( 53 , 48 ),( 54 , 43 ),( 54 , 44 ),( 54 , 45 ),( 54 , 46 ),( 54 , 47 ),( 54 , 48 ),( 55 , 43 ),( 55 , 44 ),( 55 , 45 ),( 55 , 46 ),( 55 , 47 ),( 55 , 48 ),

            ( 14 , 55 ),( 14 , 56 ),( 14 , 57 ),( 14 , 58 ),( 14 , 59 ),( 15 , 55 ),( 15 , 56 ),( 15 , 57 ),( 15 , 58 ),( 15 , 59 ),( 16 , 55 ),( 16 , 56 ),( 16 , 57 ),( 16 , 58 ),( 16 , 59 ),( 17 , 55 ),( 17 , 56 ),( 17 , 57 ),( 17 , 58 ),( 17 , 59 ),( 18 , 55 ),( 18 , 56 ),( 18 , 57 ),( 18 , 58 ),( 18 , 59 ),( 19 , 55 ),( 19 , 56 ),( 19 , 57 ),( 19 , 58 ),( 19 , 59 ),( 20 , 55 ),( 20 , 56 ),( 20 , 57 ),( 20 , 58 ),( 20 , 59 ),( 21 , 55 ),( 21 , 56 ),( 21 , 57 ),( 21 , 58 ),( 21 , 59 ),( 22 , 55 ),( 22 , 56 ),( 22 , 57 ),( 22 , 58 ),( 22 , 59 ),( 23 , 55 ),( 23 , 56 ),( 23 , 57 ),( 23 , 58 ),( 23 , 59 ),( 24 , 55 ),( 24 , 56 ),( 24 , 57 ),( 24 , 58 ),( 24 , 59 ),( 25 , 55 ),( 25 , 56 ),( 25 , 57 ),( 25 , 58 ),( 25 , 59 ),( 26 , 55 ),( 26 , 56 ),( 26 , 57 ),( 26 , 58 ),( 26 , 59 ),( 27 , 55 ),( 27 , 56 ),( 27 , 57 ),( 27 , 58 ),( 27 , 59 ),( 28 , 55 ),( 28 , 56 ),( 28 , 57 ),( 28 , 58 ),( 28 , 59 ),( 29 , 55 ),( 29 , 56 ),( 29 , 57 ),( 29 , 58 ),( 29 , 59 ),( 30 , 55 ),( 30 , 56 ),( 30 , 57 ),( 30 , 58 ),( 30 , 59 ),( 31 , 55 ),( 31 , 56 ),( 31 , 57 ),( 31 , 58 ),( 31 , 59 ),( 32 , 55 ),( 32 , 56 ),( 32 , 57 ),( 32 , 58 ),( 32 , 59 ),( 33 , 55 ),( 33 , 56 ),( 33 , 57 ),( 33 , 58 ),( 33 , 59 ),( 34 , 55 ),( 34 , 56 ),( 34 , 57 ),( 34 , 58 ),( 34 , 59 ),( 35 , 55 ),( 35 , 56 ),( 35 , 57 ),( 35 , 58 ),( 35 , 59 ),( 36 , 55 ),( 36 , 56 ),( 36 , 57 ),( 36 , 58 ),( 36 , 59 ),( 37 , 55 ),( 37 , 56 ),( 37 , 57 ),( 37 , 58 ),( 37 , 59 ),( 38 , 55 ),( 38 , 56 ),( 38 , 57 ),( 38 , 58 ),( 38 , 59 ),( 39 , 55 ),( 39 , 56 ),( 39 , 57 ),( 39 , 58 ),( 39 , 59 ),( 40 , 55 ),( 40 , 56 ),( 40 , 57 ),( 40 , 58 ),( 40 , 59 ),( 41 , 55 ),( 41 , 56 ),( 41 , 57 ),( 41 , 58 ),( 41 , 59 ),( 42 , 55 ),( 42 , 56 ),( 42 , 57 ),( 42 , 58 ),( 42 , 59 ),( 43 , 55 ),( 43 , 56 ),( 43 , 57 ),( 43 , 58 ),( 43 , 59 ),( 44 , 55 ),( 44 , 56 ),( 44 , 57 ),( 44 , 58 ),( 44 , 59 ),( 45 , 55 ),( 45 , 56 ),( 45 , 57 ),( 45 , 58 ),( 45 , 59 ),( 46 , 55 ),( 46 , 56 ),( 46 , 57 ),( 46 , 58 ),( 46 , 59 ),( 47 , 55 ),( 47 , 56 ),( 47 , 57 ),( 47 , 58 ),( 47 , 59 ),( 48 , 55 ),( 48 , 56 ),( 48 , 57 ),( 48 , 58 ),( 48 , 59 ),( 49 , 55 ),( 49 , 56 ),( 49 , 57 ),( 49 , 58 ),( 49 , 59 ),( 50 , 55 ),( 50 , 56 ),( 50 , 57 ),( 50 , 58 ),( 50 , 59 ),( 51 , 55 ),( 51 , 56 ),( 51 , 57 ),( 51 , 58 ),( 51 , 59 ),( 52 , 55 ),( 52 , 56 ),( 52 , 57 ),( 52 , 58 ),( 52 , 59 ),( 53 , 55 ),( 53 , 56 ),( 53 , 57 ),( 53 , 58 ),( 53 , 59 ),( 54 , 55 ),( 54 , 56 ),( 54 , 57 ),( 54 , 58 ),( 54 , 59 ),( 55 , 55 ),( 55 , 56 ),( 55 , 57 ),( 55 , 58 ),( 55 , 59 ),
            
            ( 14 , 65 ),( 14 , 66 ),( 14 , 67 ),( 14 , 68 ),( 14 , 69 ),( 14 , 70 ),( 15 , 65 ),( 15 , 66 ),( 15 , 67 ),( 15 , 68 ),( 15 , 69 ),( 15 , 70 ),( 16 , 65 ),( 16 , 66 ),( 16 , 67 ),( 16 , 68 ),( 16 , 69 ),( 16 , 70 ),( 17 , 65 ),( 17 , 66 ),( 17 , 67 ),( 17 , 68 ),( 17 , 69 ),( 17 , 70 ),( 18 , 65 ),( 18 , 66 ),( 18 , 67 ),( 18 , 68 ),( 18 , 69 ),( 18 , 70 ),( 19 , 65 ),( 19 , 66 ),( 19 , 67 ),( 19 , 68 ),( 19 , 69 ),( 19 , 70 ),( 20 , 65 ),( 20 , 66 ),( 20 , 67 ),( 20 , 68 ),( 20 , 69 ),( 20 , 70 ),( 21 , 65 ),( 21 , 66 ),( 21 , 67 ),( 21 , 68 ),( 21 , 69 ),( 21 , 70 ),( 22 , 65 ),( 22 , 66 ),( 22 , 67 ),( 22 , 68 ),( 22 , 69 ),( 22 , 70 ),( 23 , 65 ),( 23 , 66 ),( 23 , 67 ),( 23 , 68 ),( 23 , 69 ),( 23 , 70 ),( 24 , 65 ),( 24 , 66 ),( 24 , 67 ),( 24 , 68 ),( 24 , 69 ),( 24 , 70 ),( 25 , 65 ),( 25 , 66 ),( 25 , 67 ),( 25 , 68 ),( 25 , 69 ),( 25 , 70 ),( 26 , 65 ),( 26 , 66 ),( 26 , 67 ),( 26 , 68 ),( 26 , 69 ),( 26 , 70 ),( 27 , 65 ),( 27 , 66 ),( 27 , 67 ),( 27 , 68 ),( 27 , 69 ),( 27 , 70 ),( 28 , 65 ),( 28 , 66 ),( 28 , 67 ),( 28 , 68 ),( 28 , 69 ),( 28 , 70 ),( 29 , 65 ),( 29 , 66 ),( 29 , 67 ),( 29 , 68 ),( 29 , 69 ),( 29 , 70 ),( 30 , 65 ),( 30 , 66 ),( 30 , 67 ),( 30 , 68 ),( 30 , 69 ),( 30 , 70 ),( 31 , 65 ),( 31 , 66 ),( 31 , 67 ),( 31 , 68 ),( 31 , 69 ),( 31 , 70 ),( 32 , 65 ),( 32 , 66 ),( 32 , 67 ),( 32 , 68 ),( 32 , 69 ),( 32 , 70 ),( 38 , 65 ),( 38 , 66 ),( 38 , 67 ),( 38 , 68 ),( 38 , 69 ),( 38 , 70 ),( 39 , 65 ),( 39 , 66 ),( 39 , 67 ),( 39 , 68 ),( 39 , 69 ),( 39 , 70 ),( 40 , 65 ),( 40 , 66 ),( 40 , 67 ),( 40 , 68 ),( 40 , 69 ),( 40 , 70 ),( 41 , 65 ),( 41 , 66 ),( 41 , 67 ),( 41 , 68 ),( 41 , 69 ),( 41 , 70 ),( 42 , 65 ),( 42 , 66 ),( 42 , 67 ),( 42 , 68 ),( 42 , 69 ),( 42 , 70 ),( 43 , 65 ),( 43 , 66 ),( 43 , 67 ),( 43 , 68 ),( 43 , 69 ),( 43 , 70 ),( 44 , 65 ),( 44 , 66 ),( 44 , 67 ),( 44 , 68 ),( 44 , 69 ),( 44 , 70 ),( 45 , 65 ),( 45 , 66 ),( 45 , 67 ),( 45 , 68 ),( 45 , 69 ),( 45 , 70 ),( 46 , 65 ),( 46 , 66 ),( 46 , 67 ),( 46 , 68 ),( 46 , 69 ),( 46 , 70 ),( 47 , 65 ),( 47 , 66 ),( 47 , 67 ),( 47 , 68 ),( 47 , 69 ),( 47 , 70 ),( 48 , 65 ),( 48 , 66 ),( 48 , 67 ),( 48 , 68 ),( 48 , 69 ),( 48 , 70 ),( 49 , 65 ),( 49 , 66 ),( 49 , 67 ),( 49 , 68 ),( 49 , 69 ),( 49 , 70 ),( 50 , 65 ),( 50 , 66 ),( 50 , 67 ),( 50 , 68 ),( 50 , 69 ),( 50 , 70 ),( 51 , 65 ),( 51 , 66 ),( 51 , 67 ),( 51 , 68 ),( 51 , 69 ),( 51 , 70 ),( 52 , 65 ),( 52 , 66 ),( 52 , 67 ),( 52 , 68 ),( 52 , 69 ),( 52 , 70 ),( 53 , 65 ),( 53 , 66 ),( 53 , 67 ),( 53 , 68 ),( 53 , 69 ),( 53 , 70 ),( 54 , 65 ),( 54 , 66 ),( 54 , 67 ),( 54 , 68 ),( 54 , 69 ),( 54 , 70 ),( 55 , 65 ),( 55 , 66 ),( 55 , 67 ),( 55 , 68 ),( 55 , 69 ),( 55 , 70 ),
        
            ( 14 , 75 ),( 14 , 76 ),( 14 , 77 ),( 14 , 78 ),( 14 , 79 ),( 14 , 80 ),( 15 , 75 ),( 15 , 76 ),( 15 , 77 ),( 15 , 78 ),( 15 , 79 ),( 15 , 80 ),( 16 , 75 ),( 16 , 76 ),( 16 , 77 ),( 16 , 78 ),( 16 , 79 ),( 16 , 80 ),( 17 , 75 ),( 17 , 76 ),( 17 , 77 ),( 17 , 78 ),( 17 , 79 ),( 17 , 80 ),( 18 , 75 ),( 18 , 76 ),( 18 , 77 ),( 18 , 78 ),( 18 , 79 ),( 18 , 80 ),( 19 , 75 ),( 19 , 76 ),( 19 , 77 ),( 19 , 78 ),( 19 , 79 ),( 19 , 80 ),( 20 , 75 ),( 20 , 76 ),( 20 , 77 ),( 20 , 78 ),( 20 , 79 ),( 20 , 80 ),( 21 , 75 ),( 21 , 76 ),( 21 , 77 ),( 21 , 78 ),( 21 , 79 ),( 21 , 80 ),( 22 , 75 ),( 22 , 76 ),( 22 , 77 ),( 22 , 78 ),( 22 , 79 ),( 22 , 80 ),( 23 , 75 ),( 23 , 76 ),( 23 , 77 ),( 23 , 78 ),( 23 , 79 ),( 23 , 80 ),( 24 , 75 ),( 24 , 76 ),( 24 , 77 ),( 24 , 78 ),( 24 , 79 ),( 24 , 80 ),( 25 , 75 ),( 25 , 76 ),( 25 , 77 ),( 25 , 78 ),( 25 , 79 ),( 25 , 80 ),( 26 , 75 ),( 26 , 76 ),( 26 , 77 ),( 26 , 78 ),( 26 , 79 ),( 26 , 80 ),( 27 , 75 ),( 27 , 76 ),( 27 , 77 ),( 27 , 78 ),( 27 , 79 ),( 27 , 80 ),( 28 , 75 ),( 28 , 76 ),( 28 , 77 ),( 28 , 78 ),( 28 , 79 ),( 28 , 80 ),( 29 , 75 ),( 29 , 76 ),( 29 , 77 ),( 29 , 78 ),( 29 , 79 ),( 29 , 80 ),( 30 , 75 ),( 30 , 76 ),( 30 , 77 ),( 30 , 78 ),( 30 , 79 ),( 30 , 80 ),( 31 , 75 ),( 31 , 76 ),( 31 , 77 ),( 31 , 78 ),( 31 , 79 ),( 31 , 80 ),( 32 , 75 ),( 32 , 76 ),( 32 , 77 ),( 32 , 78 ),( 32 , 79 ),( 32 , 80 ),( 33 , 75 ),( 33 , 76 ),( 33 , 77 ),( 33 , 78 ),( 33 , 79 ),( 33 , 80 ),( 34 , 75 ),( 34 , 76 ),( 34 , 77 ),( 34 , 78 ),( 34 , 79 ),( 34 , 80 ),( 35 , 75 ),( 35 , 76 ),( 35 , 77 ),( 35 , 78 ),( 35 , 79 ),( 35 , 80 ),( 36 , 75 ),( 36 , 76 ),( 36 , 77 ),( 36 , 78 ),( 36 , 79 ),( 36 , 80 ),( 37 , 75 ),( 37 , 76 ),( 37 , 77 ),( 37 , 78 ),( 37 , 79 ),( 37 , 80 ),( 38 , 75 ),( 38 , 76 ),( 38 , 77 ),( 38 , 78 ),( 38 , 79 ),( 38 , 80 ),( 39 , 75 ),( 39 , 76 ),( 39 , 77 ),( 39 , 78 ),( 39 , 79 ),( 39 , 80 ),( 40 , 75 ),( 40 , 76 ),( 40 , 77 ),( 40 , 78 ),( 40 , 79 ),( 40 , 80 ),( 41 , 75 ),( 41 , 76 ),( 41 , 77 ),( 41 , 78 ),( 41 , 79 ),( 41 , 80 ),( 42 , 75 ),( 42 , 76 ),( 42 , 77 ),( 42 , 78 ),( 42 , 79 ),( 42 , 80 ),( 43 , 75 ),( 43 , 76 ),( 43 , 77 ),( 43 , 78 ),( 43 , 79 ),( 43 , 80 ),( 44 , 75 ),( 44 , 76 ),( 44 , 77 ),( 44 , 78 ),( 44 , 79 ),( 44 , 80 ),( 45 , 75 ),( 45 , 76 ),( 45 , 77 ),( 45 , 78 ),( 45 , 79 ),( 45 , 80 ),( 46 , 75 ),( 46 , 76 ),( 46 , 77 ),( 46 , 78 ),( 46 , 79 ),( 46 , 80 ),( 47 , 75 ),( 47 , 76 ),( 47 , 77 ),( 47 , 78 ),( 47 , 79 ),( 47 , 80 ),( 48 , 75 ),( 48 , 76 ),( 48 , 77 ),( 48 , 78 ),( 48 , 79 ),( 48 , 80 ),( 49 , 75 ),( 49 , 76 ),( 49 , 77 ),( 49 , 78 ),( 49 , 79 ),( 49 , 80 ),( 50 , 75 ),( 50 , 76 ),( 50 , 77 ),( 50 , 78 ),( 50 , 79 ),( 50 , 80 ),( 51 , 75 ),( 51 , 76 ),( 51 , 77 ),( 51 , 78 ),( 51 , 79 ),( 51 , 80 ),( 52 , 75 ),( 52 , 76 ),( 52 , 77 ),( 52 , 78 ),( 52 , 79 ),( 52 , 80 ),( 53 , 75 ),( 53 , 76 ),( 53 , 77 ),( 53 , 78 ),( 53 , 79 ),( 53 , 80 ),( 54 , 75 ),( 54 , 76 ),( 54 , 77 ),( 54 , 78 ),( 54 , 79 ),( 54 , 80 ),( 55 , 75 ),( 55 , 76 ),( 55 , 77 ),( 55 , 78 ),( 55 , 79 ),( 55 , 80 ),

            ( 14 , 85 ),( 14 , 86 ),( 14 , 87 ),( 14 , 88 ),( 14 , 89 ),( 15 , 85 ),( 15 , 86 ),( 15 , 87 ),( 15 , 88 ),( 15 , 89 ),( 16 , 85 ),( 16 , 86 ),( 16 , 87 ),( 16 , 88 ),( 16 , 89 ),( 17 , 85 ),( 17 , 86 ),( 17 , 87 ),( 17 , 88 ),( 17 , 89 ),( 18 , 85 ),( 18 , 86 ),( 18 , 87 ),( 18 , 88 ),( 18 , 89 ),( 19 , 85 ),( 19 , 86 ),( 19 , 87 ),( 19 , 88 ),( 19 , 89 ),( 20 , 85 ),( 20 , 86 ),( 20 , 87 ),( 20 , 88 ),( 20 , 89 ),( 21 , 85 ),( 21 , 86 ),( 21 , 87 ),( 21 , 88 ),( 21 , 89 ),( 22 , 85 ),( 22 , 86 ),( 22 , 87 ),( 22 , 88 ),( 22 , 89 ),( 23 , 85 ),( 23 , 86 ),( 23 , 87 ),( 23 , 88 ),( 23 , 89 ),( 24 , 85 ),( 24 , 86 ),( 24 , 87 ),( 24 , 88 ),( 24 , 89 ),( 25 , 85 ),( 25 , 86 ),( 25 , 87 ),( 25 , 88 ),( 25 , 89 ),( 26 , 85 ),( 26 , 86 ),( 26 , 87 ),( 26 , 88 ),( 26 , 89 ),( 27 , 85 ),( 27 , 86 ),( 27 , 87 ),( 27 , 88 ),( 27 , 89 ),( 28 , 85 ),( 28 , 86 ),( 28 , 87 ),( 28 , 88 ),( 28 , 89 ),( 29 , 85 ),( 29 , 86 ),( 29 , 87 ),( 29 , 88 ),( 29 , 89 ),( 30 , 85 ),( 30 , 86 ),( 30 , 87 ),( 30 , 88 ),( 30 , 89 ),( 31 , 85 ),( 31 , 86 ),( 31 , 87 ),( 31 , 88 ),( 31 , 89 ),( 32 , 85 ),( 32 , 86 ),( 32 , 87 ),( 32 , 88 ),( 32 , 89 ),( 33 , 85 ),( 33 , 86 ),( 33 , 87 ),( 33 , 88 ),( 33 , 89 ),( 34 , 85 ),( 34 , 86 ),( 34 , 87 ),( 34 , 88 ),( 34 , 89 ),( 35 , 85 ),( 35 , 86 ),( 35 , 87 ),( 35 , 88 ),( 35 , 89 ),( 36 , 85 ),( 36 , 86 ),( 36 , 87 ),( 36 , 88 ),( 36 , 89 ),( 37 , 85 ),( 37 , 86 ),( 37 , 87 ),( 37 , 88 ),( 37 , 89 ),( 38 , 85 ),( 38 , 86 ),( 38 , 87 ),( 38 , 88 ),( 38 , 89 ),( 39 , 85 ),( 39 , 86 ),( 39 , 87 ),( 39 , 88 ),( 39 , 89 ),( 40 , 85 ),( 40 , 86 ),( 40 , 87 ),( 40 , 88 ),( 40 , 89 ),( 41 , 85 ),( 41 , 86 ),( 41 , 87 ),( 41 , 88 ),( 41 , 89 ),( 42 , 85 ),( 42 , 86 ),( 42 , 87 ),( 42 , 88 ),( 42 , 89 ),( 43 , 85 ),( 43 , 86 ),( 43 , 87 ),( 43 , 88 ),( 43 , 89 ),( 44 , 85 ),( 44 , 86 ),( 44 , 87 ),( 44 , 88 ),( 44 , 89 ),( 45 , 85 ),( 45 , 86 ),( 45 , 87 ),( 45 , 88 ),( 45 , 89 ),( 46 , 85 ),( 46 , 86 ),( 46 , 87 ),( 46 , 88 ),( 46 , 89 ),( 47 , 85 ),( 47 , 86 ),( 47 , 87 ),( 47 , 88 ),( 47 , 89 ),( 48 , 85 ),( 48 , 86 ),( 48 , 87 ),( 48 , 88 ),( 48 , 89 ),( 49 , 85 ),( 49 , 86 ),( 49 , 87 ),( 49 , 88 ),( 49 , 89 ),( 50 , 85 ),( 50 , 86 ),( 50 , 87 ),( 50 , 88 ),( 50 , 89 ),( 51 , 85 ),( 51 , 86 ),( 51 , 87 ),( 51 , 88 ),( 51 , 89 ),( 52 , 85 ),( 52 , 86 ),( 52 , 87 ),( 52 , 88 ),( 52 , 89 ),( 53 , 85 ),( 53 , 86 ),( 53 , 87 ),( 53 , 88 ),( 53 , 89 ),( 54 , 85 ),( 54 , 86 ),( 54 , 87 ),( 54 , 88 ),( 54 , 89 ),( 55 , 85 ),( 55 , 86 ),( 55 , 87 ),( 55 , 88 ),( 55 , 89 ),

            

        }

        self.show()

    def paintEvent(self, event):
        painter = QPainter(self)
        painter.drawPixmap(self.rect(), self.pixmap_scaled)

        pen = QPen(QColor(0, 255, 0, 180))
        pen.setWidth(1)
        painter.setPen(pen)

        width = self.pixmap_scaled.width()
        height = self.pixmap_scaled.height()

        # Draw grid
        for x in range(0, width, self.cell_size):
            painter.drawLine(x, 0, x, height)

        for y in range(0, height, self.cell_size):
            painter.drawLine(0, y, width, y)

        # Draw inaccessible cells in opaque black
        brush_color = QColor(0, 0, 0, 255)
        painter.setBrush(brush_color)
        painter.setPen(Qt.PenStyle.NoPen)

        for (row, col) in self.inaccessible_cells:
            rect_x = col * self.cell_size
            rect_y = row * self.cell_size
            painter.drawRect(rect_x, rect_y, self.cell_size, self.cell_size)

    def mousePressEvent(self, event):
        pos = event.position().toPoint()
        col = pos.x() // self.cell_size
        row = pos.y() // self.cell_size
        if (row, col) in self.inaccessible_cells:
            # Click ignored on inaccessible cell
            return
        print(f"Clicked at x={pos.x()}, y={pos.y()}")
        print(f"Grid cell clicked: row={row}, col={col}")

if __name__ == "__main__":
    app = QApplication(sys.argv)
    window = VuePlan("plan.jpg", scale_percent=95, cell_size=8)
    window.show()
    sys.exit(app.exec())
